//Resource List=================================================
	var list_SCard =[
		['CardSShanHu',397,511],['CardSShanHuNan',397,511],['CardSPine',396,512],['CardSHuangDi',396,512],
		['CardSALiLadybug',396,512],['CardSALiBee',396,512],
		['CardSDaffodil',397,511],['CardSFenYing',397,511],['CardSMuDan',396,512],['CardSZiYing',397,511],
		['CardSXiaoMoNv',396,512],['CardSBaLei',396,512],['CardSBaqi',396,512],['CardSBlackCat',397,511],['CardSChuNvZuo',397,511],
		['CardSDaisite',396,512],['CardSDandelion',397,511],['CardSDaoDiaoRen',396,512],['CardSDunqishi',396,512],
		['CardSFish',396,512],['CardSGerbera',397,511],['CardSGuangMingNvPu',396,512],['CardSHeimao2',396,512],
		['CardSJiaoHuang',396,512],['CardSJuXieZuo',397,511],['CardSLangLing',397,511],['CardSLianRen',397,511],
		['CardSLily',396,512],['CardSLotus',397,511],['CardSLycoris',396,512],['CardSLycorisWhite',396,512],
		['CardSMaple',397,511],['CardSMoFaShaoNv',396,512],['CardSMojie',396,512],['CardSMoon',397,511],
		['CardSNanyuzuo',396,512],['CardSNingFu',396,512],['CardSNvJiSi',396,512],['CardSQueen',396,512],
		['CardSSheshou',396,512],['CardSShizizuo',396,512],['CardSShuiping',396,512],['CardSSiShen',396,512],
		['CardSSkyLight',396,512],['CardSStar',397,511],['CardSStrawberry',397,511],['CardSTianxie',396,512],
		['CardSTower',397,511],['CardSXianNvZuo',397,511],['CardSXiaoMoNan',396,512],
		['CardSXueXu',396,512],['CardSYuZaoQian2',396,512],['CardSZhengYi',396,512],
		
		
		//連動
		['CardCinnamorollA',396,512],
		['CardCinnamorollB',396,512],['CardCinnamorollC',396,512],['CardCinnamorollD',396,512],['CardCinnamorollE',396,512],

	];
	var list_icon =[
		['limao01',90,90],['limao02',90,85],['limao03',90,81],['limao04',91,82],['limao05',90,88],['limao06',87,87],
		['qq1',94,75],['qq2',94,75],['qq4',94,75],['qq5',94,75],
		['qq6',94,75],['qq7',94,75],['qq8',94,76],['qq9',94,75],['qq10',94,75],
		['qq11',94,75],['qq12',94,77],['qq13',94,75],['qq14',94,75],['qq15',94,76],
		['qq16',94,75],['qq17',94,75],['qq18',94,76],['qq19',94,76],
		['qq20',94,77],['qq21',94,76],['qq22',94,77],
		['qq23',94,76],['qq24',94,77],['qq25',94,76],['qq26',94,76],
		['qq27',94,76],['qq28',94,76],['qq29',94,76],['qq30',94,76],
		['qq31',94,77],['qq32',94,75],['qq33',94,75],['qq34',94,75],
		['qq35',94,75],['qq36',141,116],['qq37',141,116],['qq38',141,116],
		['qq39',141,116],['qq40',141,116],['qq41',141,116],
		['qq42',141,116],['qq43',141,116],['qq44',141,116],['qq45',141,116],
		['qq46',141,116],['qq47',141,116],['qq48',141,116],['qq49',141,116],
		['qq50',141,116],['qq51',94,75],['qq52',83,77],
		['qq53',85,77],['qq54',94,77],['qq55',94,77],['qq56',94,77],
		['qq57',94,77],['qq58',141,116],['qq59',94,77],
		['qq60',94,77],['qq61',141,116],['qq62',94,77],['qq63',94,77],
		['qq64',94,77],['qq65',141,116],['qq66',141,116],['qq67',141,116],
		['qq68',94,77],['qq69',94,77],['qq70',94,77],
		['qq71',94,77],['qq72',94,77],['qq73',94,77],['qq74',94,77],
		['qq75',94,77],['qq76',94,77],['qq77',94,77],['qq78',94,77],
		['qq79',94,77],['qq80',94,77],['qq81',94,77],
		['qq82',94,77],['qq83',94,77],['qq84',94,77],['qq85',94,77],
		['qq86',94,77],['qq87',94,77],['qq88',94,77],['qq89',94,77],
		['qq90',94,77],['qq91',94,77],['qq92',94,77],
		['qq93',94,77],['qq94',94,77],['qq95',94,77],['qq96',94,77],
		['qq100',93,77],
		['qq101',94,77],['qq102',94,71],['qq103',94,77],['qq104',94,77],
		['qq105',87,77],['qq106',92,77],['qq107',92,77],['qq108',94,77],
		['qq109',94,73],['qq110',94,77],['qq111',94,77],
		['qq112',94,77],['qq113',94,77],['qq114',94,77],['qq115',94,77],
		['qq116',94,77],['qq117',94,77],['qq118',94,77],['qq119',94,77],
		['qq120',94,77],['qq121',94,77],['qq122',94,77],
		['qq123',94,77],['qq124',94,77],['qq125',94,77],['qq126',94,77],
		['qq127',94,77],['qq128',94,77],['qq129',94,77],
		['qq130',94,77],['qq131',94,77],['qq132',94,77],['qq133',94,71],
		['qq134',84,77],['qq135',141,116],['qq136',141,116],['qq137',94,77],
		['qq138',94,77],['qq139',94,77],['qq140',94,77],
		['qq141',80,77],['qq142',87,62],['qq143',79,77],['qq144',94,77],
		['qq145',82,77],['qq146',94,77],['qq147',94,77],['qq148',94,77],
		['qq149',94,77],['qq150',94,77],['qq151',94,77],
		['qq152',94,77],['qq153',94,77],['qq154',94,77],['qq155',94,77],
		['qq156',94,77],['qq157',94,77],['qq158',94,77],['qq159',141,116],
		['qq160',141,116],['qq161',94,77],['qq162',94,77],
		['qq163',94,77],['qq164',94,77],['qq165',141,116],['qq166',94,77],
		['qq167',94,77],['qq168',94,77],['qq169',94,77],
		['qq170',94,77],['qq171',94,77],['qq172',94,77],['qq173',94,77],
		['qq174',94,77],['qq175',94,77],['qq176',141,116],['qq177',94,77],
		['qq178',94,77],['qq179',94,77],['qq180',94,77],
		['qq181',94,77],['qq182',94,77],['qq183',94,77],['qq184',94,77],
		['qq185',94,77],['qq186',94,77],['qq187',94,77],
		['qq188',72,77],['qq189',94,77],['qq190',76,77],
		
	];
//Fun=================================================
	var fun=0,item=0;
	//Initial-------
	function Initial()
	{
		//GenerateSCard();
		GenerateChatIcon();
	}

	//Generate Card List Show HTML-------
	function GenerateSCard()
	{
		var imax=list_SCard.length;
		var i=0;
		var iconPreview = document.getElementById("cardTable");
		var strTotal="";
		
		for(i=0;i<imax;i++) {
			var str0="<td>\n<div class='card' onclick=\"generateCard('"+i+"')\">\n";
			var str1="<img src='img/"+list_SCard[i][0]+".png' >\n<button>生成</button>\n";
			var str2="</div>\n</td>\n";
			if(i%3==0)	strTotal=strTotal+"<tr>\n";
						strTotal=strTotal+str0+str1+str2;
			if(i%3==2)	strTotal=strTotal+"</tr>\n";
		}

		iconPreview.innerHTML=strTotal;
	}

	//Generate Card Code-------
	function generateCard(cardNumber) {
	  // 在右側的預覽區顯示生成的卡牌網址
	  var cardPreview = document.getElementById("cardPreview");
	  var str = 'Card null!';
	  var CardId=list_SCard[cardNumber][0];
	  var x=list_SCard[cardNumber][1];
	  var y=list_SCard[cardNumber][2];
	  
	  x=x*CalRatio(2);
	  y=y*CalRatio(2);
	 // if(document.getElementById('big'). checked == true)
	  //{
	//	  x=x*2;
		//  y=y*2;
	  //}
	  x=Math.round(x);
	  y=Math.round(y);
	  var Sx=x/2.5;
	  var Sy=y/2.5;
	  ShowColor();
	  	  var tx=document.getElementById('text').value;
	  str = "[#p spr_path=\"\" spr_name=\"" + CardId + "\" width=\""+x+"\" height=\""+y+"\"]"+tx;
		cardPreview.innerHTML=str;
		//
		var imgHtml = document.getElementById("preview-img");
		var imgTxt="NULL";
		imgTxt = "<img src=\"img\\" + CardId + ".png\" width=\""+Sx+"\" height=\""+Sy+"\">"+tx;
		imgHtml.innerHTML=imgTxt;

	const el = document.createElement('textarea');
	  el.value = str;
	  document.body.appendChild(el);
	  el.select();
	  document.execCommand('copy');
	  document.body.removeChild(el);
	  
	  fun=0;
	  item=cardNumber;
	}

	//Generate Icon List Show HTML-------
	function GenerateChatIcon()
	{
		var imax=list_icon.length;
		var i=0;
		var iconPreview = document.getElementById("cardTable");
		var strTotal="";
		
		for(i=0;i<imax;i++) {
			var str1="<img src='img/icon/"+list_icon[i][0]+".png' onclick=\"ChatCode('"+i+"')\">";
			strTotal=strTotal+str1;
		}
		strTotal="<div class='icon'>"+strTotal;
		strTotal=strTotal+"</div>";
		
		iconPreview.innerHTML=strTotal;
	}
	function QuickSize()
	{
		if(document.getElementById('big'). checked == true)
			document.getElementById('IconSize').value=80;
		if(document.getElementById('middle'). checked == true)
			document.getElementById('IconSize').value=50;
		if(document.getElementById('small'). checked == true)
			document.getElementById('IconSize').value=20;
	}
	function CalRatio(rat)
	{
		var va=document.getElementById('IconSize').value;
		var Rat1=(((rat)-1)/((80-50)/10));//if 50 =1:1,80=Max:1
		var Rat2=Math.abs((va-50)/10);
		if(va>=50)
			return 1+(Rat1*Rat2);
		if(va<50)
			return 1/(1+(Rat1*Rat2));
	}
	function ShowColor()
	{
		return;
		var va=document.getElementById('color').value;
		var tx=document.getElementById('text').value;
		document.getElementById('colorT').innerHTML="顏色:"+va;
		if(tx.length>0)document.getElementById('colorD').style.display="block";
		else document.getElementById('colorD').style.display="none";
	}
	//Generate Chat Code-------
	function ChatCode(id)
	{
		var cardPreview = document.getElementById("cardPreview");
		var str="Null";
		var ps=list_icon[id][0];
		var x=list_icon[id][1]*1;
		var y=list_icon[id][2]*1;

	  x=x*CalRatio(1.92);
	  y=y*CalRatio(1.92);
	  x=Math.round(x);
	  y=Math.round(y);
	  
	  var Sx=x/2.5;
	  var Sy=y/2.5;
	  ShowColor();
	  var tx=document.getElementById('text').value;
		str = "[#p spr_path=\"\" spr_name=\"" + ps + "\" width=\""+x+"\" height=\""+y+"\"]"+tx;
		cardPreview.innerHTML=str;
		//
		var imgHtml = document.getElementById("preview-img");
		var imgTxt="NULL";
		imgTxt = "<img src=\"img\\icon\\" + ps + ".png\" width=\""+Sx+"\" height=\""+Sy+"\">"+tx;
		imgHtml.innerHTML=imgTxt;
		
	  const el = document.createElement('textarea');
	  el.value = str;
	  document.body.appendChild(el);
	  el.select();
	  document.execCommand('copy');
	  document.body.removeChild(el);	
	  fun=1;
	  item=id;
	}
	
	function SizeModify(type)
	{
		if(type==0)
			QuickSize();
		if(fun==0)
			generateCard(item);
		else
			ChatCode(item);
	}


//[#p spr_path="" spr_name="IconLike231113" width="380" height="380"]